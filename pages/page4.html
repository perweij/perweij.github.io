<!DOCTYPE html>
<html>
<head>
<title>Static web site publishing from org-mode</title>
<!-- 2017-05-05 fre 07:57 -->
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="perweij">
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
    <meta http-equiv='X-UA-Compatible' content='IE=edge' />
    <meta name='viewport' content='width=device-width, initial-scale=1.0' />
    <link href='/data/favicon.ico' rel='shortcut icon' type='image/x-icon' />
    <link rel='stylesheet' href='/data/bootstrap.min.css' />     
    <link rel='stylesheet' href='/data/site.css' type='text/css'/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>

<div class='container'>
      
      <div class='row'>
	<div class='col-sm-12' id='frame' style='-webkit-overflow-scrolling: touch;'>
	  <div class='emacs-buffer' style='-webkit-overflow-scrolling: touch;'>
	    <div style='white-space: nowrap; -webkit-overflow-scrolling: touch;'>
	      ;; This buffer is for notes you don't want to save, and for Lisp evaluation.<br/>
	      ;; If you want to create a file, visit that file with C-x C-f,<br/>
	      ;; then enter the text in that file's own buffer.</div>
<div id="content">
<h1 class="title">Static web site publishing from org-mode</h1>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Changes</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li>Nov 06 2016: initial version
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Motivation and Description</h2>
<div class="outline-text-2" id="text-2">
<p>
I generally prefer to work in <a href="http://www.gnu.org/software/emacs/">GNU Emacs</a>. When taking notes, planning,
and authoring I use <a href="http://orgmode.org/">Org mode for Emacs</a>. So it seems natural to author
and publish articles for a web site like this directly from within Org
mode. Of course, Org mode offers <a href="http://orgmode.org/manual/HTML-export.html">this functionality</a>. 
</p>

<p>
I also thought it would be a both nice and useful twist to have the
web site styled as an Emacs frame, with a theme similar to the theme I
use in Emacs (this web site features an navigation bar resembling
Emacs menu-bar-mode - a mode I have disabled in Emacs, so it is not
really similar). Nice, because minimalism can look good, and useful
because a uniform look reduces the cognitive stress on my brain when I
move my gaze from Emacs to the web browser.
</p>

<p>
I used <a href="https://github.com/NicolasPetton/emacs.d/blob/9689939b21c706aa4d2c702df8c731f71b2ae49f/hosts/blueberry/init-org-publish.el">Nicolas Petton's publisher</a> as a start, and did some work to
learn Emacs Lisp and to create the fancy Emacs look.
</p>

<p>
By calling 
</p>
<pre class="example">
M-x org-publish
</pre>
<p>
the Org mode's HTML exporter exports any modified article org-files
and saves in the publishing directory. 
</p>

<p>
As everything is implemented within Emacs, I can make use of other
powerful Emacs packages for even more convenience. I have specified the
publishing directory using <a href="http://www.gnu.org/software/tramp/">Tramp syntax</a>, pointing to my DMZ machine
running an external web server:
</p>
<pre class="example">
:publishing-directory "/home-dmz:/var/www"
</pre>
<p>
It is convenient to be able to both author and publish from within
Emacs.
</p>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Screenshot</h2>
<div class="outline-text-2" id="text-3">
<p>
Here is a screenshot of Emacs with the source code for this article
(not fully up to date though):
</p>


<div class="figure">
<p><img src="../data/siteinfo.org.png" alt="siteinfo.org.png">
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Todo</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>Emacs keystrokes - I might add one or two for fun.
</li>
<li>RSS feed.
</li>
<li>Tags - markup articles with topic tags and present in some sensible way.
</li>
<li>Make the source code available.
</li>
</ul>
</div>
</div>
</div>

<div></div>
    <hr>
    <p>
      ;; Copyright (c) 2016, 2017<br>
      ;; Per Weijnitz<br>
      ;; <br>
      ;; Verbatim copying and redistribution of this entire page are<br>
      ;; permitted provided this notice is preserved.<br>
      ;; <br>
      ;; Check <a href='/pages/contact.html'>here</a> for contact information.
    </p>
  </div>

	  </div>

  <!-- Fixed navbar -->
    <nav class='navbar navbar-default navbar-fixed-top'>
      <div class='container'>
        <div id='navbar' class='navbar-collapse collapse'>
          <ul class='nav navbar-nav'><li class='dropdown'>
     <a href='#' class='dropdown-toggle' data-toggle='dropdown' role='button' aria-expanded='false'>Buffers</a>
       <ul class='dropdown-menu' role='menu'><li><a href="/pages/page4.html">Static web site publishing from org-mode</a></li><li><a href="/pages/page1.html">Emacs and JS</a></li><li><a href="/pages/page3.html">autosleep</a></li><li><a href="/pages/page2.html">org-mode command centre</a></li><li><a href="/pages/page5.html">dockmonitortool</a></li><li><a href="/pages/page6.html">mirror-elpa</a></li></ul></li><li class='dropdown'>
     <a href='#' class='dropdown-toggle' data-toggle='dropdown' role='button' aria-expanded='false'>Help</a>
       <ul class='dropdown-menu' role='menu'><li><a href="/index.html">Assorted technical notes</a></li><li><a href="/pages/contact.html">Contact</a></li></ul></li></ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

	  <div class='emacs-modeline'>-:-- Static web site publishing from org-mode (org-html-publish-to-html) 0.20 &nbsp;&nbsp;&nbsp;&nbsp; generator:<a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.2.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10) &nbsp;&nbsp;&nbsp;&nbsp; generated:2017-05-05T07:57:28+02:00  &nbsp;&nbsp;&nbsp;&nbsp; &#169;2016 Per Weijnitz</div>

	</div>
        <div class='emacs-minibuffer' id='emacs-minibuffer'></div>
	
    </div>
        
    <!-- Bootstrap core JavaScript
	 ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src='/data/jquery.js'></script>
    <script src='/data/bootstrap.min.js'></script>
    <script type='text/javascript'>

function fix_babel_blocks_process_divs(divs) {
    for(var i = 0; i < divs.length; i++) {
       var n = divs[i].innerHTML;
       n = n.replace(/; #+/g, '#');
       n = n.replace(/; \* /g, ' * ');
       divs[i].innerHTML = n;
    }
}

function fix_babel_blocks() {
    var x = document.getElementsByClassName('src');
    fix_babel_blocks_process_divs(x);
    x = document.getElementsByClassName('example');
    fix_babel_blocks_process_divs(x);
}

$(function() {
  fix_babel_blocks();
});

    </script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src='/data/ie10-viewport-bug-workaround.js'></script>
</body>
</html>
